(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){"use strict";var r=n(34);n.o(r,"required")&&n.d(t,"required",function(){return r.required});var a=n(35);n.d(t,"required",function(){return a.a})},34:function(e,t){},35:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return e.trim()?null:{required:!0}}},39:function(e,t,n){e.exports={TextArea:"Input_TextArea__3yPmy"}},41:function(e,t,n){e.exports=n(65)},46:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var r,a,o,c,i,l,s,u,p,f,d,b=n(0),m=n.n(b),v=n(36),h=n.n(v),j=(n(46),n(7)),g=n(9),O=n(13),E=n(11),y=n(12),w=n(71),C=n(52),N=n(69),T=n(67),k=n(8),S=n(70),D="dib f5 ph2 mh2 no-underline blue",R=Object(T.a)(function(){return m.a.createElement("nav",{className:"tc mb3"},m.a.createElement(S.a,{className:D,activeClassName:"b",exact:!0,to:"/project"},"List"),m.a.createElement(S.a,{className:D,activeClassName:"b",exact:!0,to:"/project/create"},"Create"))}),x=function(e){var t=e.children;return m.a.createElement("header",null,m.a.createElement("h1",{className:"f1 lh-title tc"},"Project List"),t)},P=n(18),A=n(17),I=n(54),J=function(e){var t=e.children;return m.a.createElement("div",{className:"pa3 br2 shadow-4"},t)},_=n(22),V=n(39),M=n.n(V),W=function(e){var t,n=e.className,r=e.label,a=e.type,o=e.valid,c=e.touched,i=Object(_.a)(e,["className","label","type","valid","touched"]),l=["db w-100 br2 pa3 ba b--silver"];switch(n&&l.push(n),c&&(o?l.push("b--green"):l.push("b--red")),a){case"textarea":t=m.a.createElement("textarea",Object.assign({className:l.join(" ")+" "+M.a.TextArea},i));break;default:t=m.a.createElement("input",Object.assign({className:l.join(" "),type:a},i))}return m.a.createElement("label",{className:"db mb4"},m.a.createElement("p",{className:"b mb3"},r),t)},q=function(e){var t=e.btnType,n=e.small,r=e.clear,a=e.children,o=e.className,c=Object(_.a)(e,["btnType","small","clear","children","className"]),i=["db w-100 ttu bn b tc pointer dim"];switch(o&&i.push(o),i.push(n?"ph1 pv2 f6":"ph2 pv3 f5"),t){case"success":i.push(r?"bg-transparent green":"bg-green white");break;case"danger":i.push(r?"bg-transparent red":"bg-red white")}return m.a.createElement("button",Object.assign({className:i.join(" ")},c),a)},F=n(14),z=n(5),L=n(15),U=(n(56),n(31),n(6)),B=function(){function e(){Object(j.a)(this,e)}return Object(g.a)(e,null,[{key:"parse",value:function(e){return Object(U.plainToClass)(this,e||{})}}]),e}(),Y=n(40),$=n.n(Y),G=function(){function e(){Object(j.a)(this,e)}return Object(g.a)(e,null,[{key:"object",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"object"==typeof e?e:t}},{key:"any",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.object(t,n)}},{key:"string",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(e||t).toString();return n&&(r=r.replace(/[\xe0\xe1\xe2\xe3\xe4]/g,"a").replace(/[\xe9\xe8\xea\xeb]/g,"e").replace(/[\xed\xec\xee\xef]/g,"i").replace(/[\xf5\xf3\xf2\xf5\xf6]/g,"o").replace(/[\xfa\xf9\xfc]/g,"u").replace(/[\xe7]/g,"c").replace(/[\xf1]/g,"n")),r}},{key:"Date",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date(0);"string"==typeof e&&(e=e.length<=11?e.trim()+" 12:00:00":e);var n=$()(e).toDate();return isNaN(n.getFullYear())?t:n})},{key:"number",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(e)||t}},{key:"boolean",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("boolean"==typeof e)return e;try{var n=JSON.parse(e);return"number"==typeof n?n>0:"boolean"!=typeof n?t:n}catch(r){return t}}},{key:"array",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:t}},{key:"encode",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){var n="string"==typeof t?t.split("").reduce(function(e,t){return e+t.charCodeAt(0)},0):t;return parseInt(e.toString()+n.toString())},"")}}]),e}();function H(e){return e?U.Type.apply(null,[e]):function(e,t){var n=Reflect.getMetadata("design:type",e,t);switch(n){case Number:return Object(U.Transform)(function(e){return G.number(e)})(e,t);case String:return Object(U.Transform)(function(e){return G.string(e)})(e,t);case Date:return Object(U.Transform)(function(e){return G.Date(e)})(e,t);case Boolean:return Object(U.Transform)(function(e){return G.boolean(e)})(e,t);case Array:return Object(U.Transform)(function(e){return G.array(e)})(e,t);default:return Object(U.Transform)(function(e){return Object(U.plainToClass)(n,e)})(e,t)}}}var K,Q=(r=H(),a=H(),o=H(),c=H(),i=H(),l=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=Object(O.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(a))),Object(F.a)(n,"id",s,Object(z.a)(Object(z.a)(n))),Object(F.a)(n,"title",u,Object(z.a)(Object(z.a)(n))),Object(F.a)(n,"description",p,Object(z.a)(Object(z.a)(n))),Object(F.a)(n,"modified",f,Object(z.a)(Object(z.a)(n))),Object(F.a)(n,"created",d,Object(z.a)(Object(z.a)(n))),n}return Object(y.a)(t,e),t}(B),s=Object(L.a)(l.prototype,"id",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Date.now()}}),u=Object(L.a)(l.prototype,"title",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=Object(L.a)(l.prototype,"description",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=Object(L.a)(l.prototype,"modified",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Date}}),d=Object(L.a)(l.prototype,"created",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Date}}),l);function X(e){return{type:K.PROJECT_ADD,project:e}}!function(e){e.PROJECT_ADD="PROJECT_ADD",e.PROJECT_EDIT="PROJECT_EDIT",e.PROJECT_REMOVE="PROJECT_REMOVE"}(K||(K={}));var Z="project_list";function ee(){var e=JSON.parse(localStorage.getItem(Z)||"[]");return Q.parse(e)}var te={create:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text";return{value:"",valid:!te.validate("",n).length,touched:!1,validators:n,props:{name:e,label:t,type:r,disabled:!1}}},validate:function(e,t){return t.map(function(t){return t(e)}).filter(function(e){return e})},toProps:function(e){return{value:e.value,valid:e.valid,touched:e.touched,type:e.props.type,disabled:e.props.disabled,name:e.props.name,label:e.props.label}}};var ne=n(28),re=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(O.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(a)))).state={isFormValid:!1,project:null,isEdit:!1,formControls:[te.create("title","Project Name",[ne.required]),te.create("description","Project Description",[ne.required],"textarea")]},n.handleInputChange=function(e){var t=n.state.formControls.find(function(t){return t.props.name==e.target.name}),r=n.state.formControls.indexOf(t),a=Object(A.a)(n.state.formControls);a[r]=Object(P.a)({},t,{value:e.target.value,touched:!0,valid:!te.validate(e.target.value,t.validators).length});var o=!a.some(function(e){return!e.valid});n.setState({isFormValid:o,formControls:a})},n.handleSubmit=function(e){e.preventDefault(),n.props.save(Q.parse(Object(P.a)({},n.state.project||{},{title:n.state.formControls[0].value,description:n.state.formControls[1].value}))),n.props.history.push("/projects"),n.setState({project:Q.parse()})},n}return Object(y.a)(t,e),Object(g.a)(t,[{key:"componentWillMount",value:function(){var e=this;if(this.props.location.search){var t=new URLSearchParams(this.props.location.search),n=parseInt(t.get("id")||""),r=ee().find(function(e){return e.id===n});r&&this.setState({project:r,isFormValid:!0,isEdit:!0,formControls:[Object(P.a)({},this.state.formControls[0],{value:r.title,touched:!0,valid:!te.validate(r.title,this.state.formControls[0].validators).length}),Object(P.a)({},this.state.formControls[1],{value:r.description,touched:!0,valid:!te.validate(r.description,this.state.formControls[1].validators).length})]});var a=this.props.history.listen(function(){e.setState({project:Q.parse()}),a()})}}},{key:"render",value:function(){var e=this;return m.a.createElement(J,null,m.a.createElement("form",{onSubmit:this.handleSubmit},this.state.formControls.map(function(t){return m.a.createElement(W,Object.assign({key:t.props.name},te.toProps(t),{onChange:e.handleInputChange}))}),m.a.createElement(q,{type:"submit",btnType:"success",disabled:!this.state.isFormValid},this.state.isEdit?"Edit":"Create")))}}]),t}(b.Component),ae=Object(I.a)(Object(k.b)(null,function(e){return{save:function(t){var n=function(e){var t=ee(),n=t.findIndex(function(t){return t.id==e.id});n>-1?t[n]=e:t.push(e);var r=JSON.stringify(t);return localStorage.setItem(Z,r),{saved:!0,isNew:-1==n}}(t).isNew;e(n?X(t):function(e){return{type:K.PROJECT_EDIT,project:e}}(t))}}})(re)),oe=Object(T.a)(Object(k.b)(null,function(e,t){return{remove:function(){var n;!function(e){var t=ee(),n=t.findIndex(function(t){return t.id===e});t.splice(n,1);var r=JSON.stringify(t);localStorage.setItem(Z,r)}(t.id),e((n=t.id,{type:K.PROJECT_REMOVE,projectId:n}))}}})(function(e){var t=e.id,n=e.title,r=e.description,a=e.onClick,o=e.remove,c=e.history;return m.a.createElement("div",{className:"mb3",onClick:a},m.a.createElement(J,null,m.a.createElement("p",{className:"mb2 f5 b"},n),m.a.createElement("p",{className:"f6"},r),m.a.createElement("div",{className:"flex"},m.a.createElement("div",{className:"w-25 mr2"},m.a.createElement(q,{clear:!0,small:!0,btnType:"success",onClick:function(){return c.push("/project/edit?id="+t)}},"EDIT")),m.a.createElement("div",{className:"w-25 mr2"},m.a.createElement(q,{clear:!0,small:!0,btnType:"danger",onClick:o},"REMOVE")))))})),ce=Object(k.b)(function(e){return{projects:e.projects}})(function(e){var t=e.projects;return m.a.createElement("div",null,t.map(function(e){return m.a.createElement(oe,Object.assign({key:e.id},e))}))}),ie=function(){return m.a.createElement("footer",{className:"w-100 ph2 pv3 tc bg-near-black near-white"},"Made by Christian")},le=function(e){function t(e){var n;Object(j.a)(this,t),n=Object(O.a)(this,Object(E.a)(t).call(this,e));var r=ee();return e.add(r),n}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"flex flex-column justify-between min-vh-100"},m.a.createElement(x,null,m.a.createElement(R,null)),m.a.createElement("main",{className:"flex-auto self-center pt1 pb4 ph3 mw6 w-100"},m.a.createElement(w.a,null,m.a.createElement(C.a,{path:"/project/create",exact:!0,component:ae}),m.a.createElement(C.a,{path:"/project/edit",component:ae}),m.a.createElement(C.a,{path:"/project/",component:ce}),m.a.createElement(N.a,{path:"/",to:"/project"}))),m.a.createElement(ie,null))}}]),t}(b.Component),se=Object(T.a)(Object(k.b)(null,function(e){return{add:function(t){return t.forEach(function(t){return e(X(t))})}}})(le)),ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var fe=n(68),de=n(16);var be=Object(de.c)(Object(de.b)({projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K.PROJECT_ADD:return[].concat(Object(A.a)(e),[t.project]);case K.PROJECT_EDIT:var n=e.map(function(e){return e.id}).indexOf(t.project.id);if(-1==n)return e;var r=Object(A.a)(e);return r[n]=t.project,r;case K.PROJECT_REMOVE:return e.filter(function(e){return e.id!==t.projectId})}return e}})),me=m.a.createElement(k.a,{store:be},m.a.createElement(fe.a,null,m.a.createElement(se,null)));h.a.render(me,document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/project-list",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/project-list","/service-worker.js");ue?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):pe(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):pe(t,e)})}}()}},[[41,2,1]]]);
//# sourceMappingURL=main.802352d0.chunk.js.map